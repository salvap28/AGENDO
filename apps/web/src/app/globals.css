/* =========================================================
   Agendo Liquid Glass System - VisionOS style
   Applies globally to every surface and interaction
   ========================================================= */


:root {
  --accent-rgb: 126, 140, 255;
  --accent: rgb(var(--accent-rgb));
  --accent-strong: rgba(var(--accent-rgb), 0.9);
  --accent-soft: rgba(var(--accent-rgb), 0.24);
  --accent-faint: rgba(var(--accent-rgb), 0.12);
  --accent-halo: rgba(var(--accent-rgb), 0.42);
  --accent-halo-soft: rgba(var(--accent-rgb), 0.2);

  --ambient-deep: #03030a;
  --ambient-radial-1: rgba(var(--accent-rgb), 0.3);
  --ambient-radial-2: rgba(var(--accent-rgb), 0.16);
  --ambient-radial-3: rgba(var(--accent-rgb), 0.12);
  --ambient-radial-4: rgba(18, 22, 52, 0.9);
  --ambient-radial-highlight: rgba(255, 255, 255, 0.08);

  --glass-base-rgb: 5, 6, 16;
  --glass-high: rgba(255, 255, 255, 0.18);
  --glass-mid: rgba(255, 255, 255, 0.08);
  --glass-low: rgba(255, 255, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.12);
  --glass-border-soft: rgba(255, 255, 255, 0.07);
  --glass-border-inner: rgba(255, 255, 255, 0.18);
  --glass-halo-violet: rgba(var(--accent-rgb), 0.28);
  --glass-halo-turquoise: rgba(var(--accent-rgb), 0.28);

  --glass-shadow: 0 60px 150px rgba(3, 4, 12, 0.8);
  --shadow-giant: 0 90px 220px rgba(2, 3, 12, 0.78);
  --shadow-large: 0 60px 160px rgba(3, 4, 14, 0.68);
  --shadow-soft: 0 28px 90px rgba(2, 3, 12, 0.52);

  --grain-texture: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 80'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='80' height='80' filter='url(%23n)' opacity='0.22'/%3E%3C/svg%3E");

  --text-strong: rgba(255, 255, 255, 0.98);
  --text-body: rgba(255, 255, 255, 0.76);
  --text-dim: rgba(255, 255, 255, 0.46);

  --indicator-checkin-rgb: var(--teal-rgb);
  --indicator-blocks-rgb: var(--accent-rgb);
  --indicator-tasks-rgb: var(--violet-rgb);
  --indicator-notes-rgb: var(--neutral-blue-rgb);
  --indicator-off-rgb: var(--base-rgb);

  --radius-pill: 999px;
  --radius-xxl: 44px;
  --radius-xl: 36px;
  --radius-lg: 28px;
  --radius-md: 22px;

  --ease-liquid: cubic-bezier(0.2, 0.9, 0.25, 1);
  --ease-spring: cubic-bezier(0.33, 1.4, 0.36, 1);
}

*, *::before, *::after { box-sizing: border-box; }

html, 
body {
  margin: 0;
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-feature-settings: "ss01" on, "cv02" on;
  background: #010107;
  color: var(--text-strong);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}


body {
  margin: 0;
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-feature-settings: "ss01" on, "cv02" on;
  background: #010109;
  color: var(--text-strong);
}
body.checkin-overlay-open { overflow: hidden; }
body.calendar-overlay-open {
  overflow: hidden;
}
body.calendar-overlay-open .app-content {
  filter: blur(14px) saturate(1.05);
  transition: filter 280ms var(--ease-liquid);
}


body.app-bg {
  min-height: 100vh;
  background:
    radial-gradient(circle at 15% -10%, rgba(var(--accent-rgb), 0.22), transparent 70%),
    radial-gradient(circle at 75% -12%, rgba(var(--accent-rgb), 0.18), transparent 60%),
    radial-gradient(circle at 52% 110%, rgba(7, 7, 18, 0.96), transparent 78%),
    var(--ambient-deep);
  overflow-x: hidden;
  position: relative;
}



body.app-bg::before {
  content: '';
  position: fixed;
  inset: 0;
  mix-blend-mode: screen;
  pointer-events: none;
  background:
    radial-gradient(circle at 32% 0%, rgba(255,255,255,0.08), transparent 55%),
    radial-gradient(circle at 68% 120%, rgba(var(--accent-rgb), 0.12), transparent 70%);
  opacity: 0.8;
  filter: blur(18px);
}



body.app-bg::after {
  content: '';
  position: fixed;
  inset: -8% -12%;
  pointer-events: none;
  background: radial-gradient(circle, rgba(var(--accent-rgb), 0.12), transparent 70%);
  opacity: 0.85;
  filter: blur(140px);
  z-index: 1;
}


body.app-loaded .app-content { opacity: 1; transform: translateY(0); }

.app-content {
  position: relative;
  z-index: 6;
  padding-bottom: 120px;
  opacity: 0;
  transform: translateY(18px);
  transition: opacity 600ms var(--ease-liquid), transform 600ms var(--ease-liquid);
}
.app-content.has-topbar { padding-top: 110px; }

.halo-layer {
  position: fixed;
  inset: 0;
  z-index: 4;
  pointer-events: none;
  opacity: 0;
  transition: opacity 800ms ease;
}

html.halo-ready .halo-layer { opacity: 1; }

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

a { color: inherit; text-decoration: none; }
button {
  font: inherit;
  color: inherit;
  background: none;
  border: none;
  cursor: pointer;
  transition: transform 180ms var(--ease-spring), filter 240ms ease;
  will-change: transform;
}
button:active { transform: scale(0.985); }
img { max-width: 100%; display: block; }

.glass-panel {
  border-radius: var(--radius-xl);
  border: 1px solid var(--glass-border);
  background:
    radial-gradient(circle at 20% 0%, rgba(255,255,255,0.22), transparent 55%),
    rgba(5, 8, 22, 0.82);
  box-shadow: var(--shadow-large);
  backdrop-filter: blur(48px) saturate(150%);
  position: relative;
  overflow: hidden;
}

.glass-panel::before {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  border: 1px solid rgba(255,255,255,0.08);
  background: radial-gradient(circle at 50% 0%, rgba(255,255,255,0.18), transparent 60%);
  opacity: 0.5;
  pointer-events: none;
}

.glass-panel::after {
  content: '';
  position: absolute;
  inset: 10px 12px;
  border-radius: calc(var(--radius-xl) - 12px);
  border: 1px solid var(--glass-border-inner);
  mix-blend-mode: screen;
  opacity: 0.35;
  pointer-events: none;
}

.light-halo {
  position: absolute;
  inset: 4px;
  border-radius: inherit;
  border: 1px solid rgba(255,255,255,0.06);
  pointer-events: none;
  box-shadow: inset 0 0 80px rgba(255,255,255,0.08);
}

.glass-halo {
  position: absolute;
  inset: -20%;
  border-radius: inherit;
  background: radial-gradient(circle, rgba(var(--accent-rgb), 0.15), transparent 65%);
  filter: blur(40px);
  pointer-events: none;
  opacity: 0;
  transition: opacity 260ms ease;
}

.has-halo:hover .glass-halo,
.has-halo:focus-visible .glass-halo { opacity: 1; }

.pressable {
  transition: transform 220ms var(--ease-spring), filter 280ms ease, box-shadow 280ms ease;
  will-change: transform;
}
.pressable:active { transform: scale(0.97); }

/* ===== Agendo Glass (stable + displacement) ===== */
:root {
  --agendo-glass-radius: 28px;
  --agendo-glass-blur: 22px;
  --agendo-glass-saturation: 170%;
  --agendo-glass-bg: rgba(255,255,255,0.12);
  --agendo-glass-border: rgba(255,255,255,0.18);
  --agendo-glass-shadow:
    0 20px 50px rgba(0,0,0,0.35),
    inset 0 1px 0 rgba(255,255,255,0.25);
}

.agendo-glass {
  position: relative;
  border-radius: var(--agendo-glass-radius);
  background: var(--agendo-glass-bg);
  border: 1px solid var(--agendo-glass-border);
  box-shadow: var(--agendo-glass-shadow);
  backdrop-filter: blur(var(--agendo-glass-blur)) saturate(var(--agendo-glass-saturation));
  -webkit-backdrop-filter: blur(var(--agendo-glass-blur)) saturate(var(--agendo-glass-saturation));
  transition: transform 250ms ease-out, filter 250ms ease-out;
  will-change: transform, filter;
}

.agendo-glass--displacement {
  backdrop-filter:
    url(#agendo-glass-filter)
    blur(var(--agendo-glass-blur))
    saturate(var(--agendo-glass-saturation));
  -webkit-backdrop-filter:
    url(#agendo-glass-filter)
    blur(var(--agendo-glass-blur))
    saturate(var(--agendo-glass-saturation));
}

@supports not ((backdrop-filter: url(#agendo-glass-filter)) or (-webkit-backdrop-filter: url(#agendo-glass-filter))) {
  .agendo-glass--displacement {
    backdrop-filter: blur(var(--agendo-glass-blur)) saturate(var(--agendo-glass-saturation));
    -webkit-backdrop-filter: blur(var(--agendo-glass-blur)) saturate(var(--agendo-glass-saturation));
  }
}

.agendo-glass:hover { filter: brightness(1.06); }
.agendo-glass:active { transform: scale(0.98); }



/* ===== Topbar ===== */
.agendo-topbar {
  position: sticky;
  top: 0;
  z-index: 20;
  padding: 10px 0;
  background: rgba(5, 6, 16, 0.78);
  backdrop-filter: blur(36px) saturate(150%);
  border-bottom: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 35px 110px rgba(0,0,0,0.6);
  isolation: isolate;
}
.agendo-topbar::before {
  content: '';
  position: absolute;
  inset: 0;
  border-bottom: 1px solid rgba(var(--accent-rgb), 0.35);
  opacity: 0.6;
  pointer-events: none;
  mix-blend-mode: screen;
}
.agendo-topbar::after {
  content: '';
  position: absolute;
  inset: 4px 10%;
  border-radius: var(--radius-pill);
  background: radial-gradient(circle, rgba(var(--accent-rgb), 0.2), transparent 70%);
  filter: blur(40px);
  opacity: 0.6;
  pointer-events: none;
}
.topbar-actions {
  display: flex;
  gap: 10px;
  align-items: center;
}
.topbar-btn,
.topbar-chip {
  position: relative;
  border-radius: var(--radius-pill);
  border: 1px solid rgba(255,255,255,0.07);
  background: rgba(9, 10, 20, 0.72);
  color: var(--text-body);
  padding: 9px 20px;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  font-size: 11px;
  backdrop-filter: blur(24px);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), 0 15px 30px rgba(0,0,0,0.4);
  overflow: hidden;
}
.topbar-btn::after,
.topbar-chip::after {
  content: '';
  position: absolute;
  inset: 4px;
  border-radius: inherit;
  border: 1px solid rgba(255,255,255,0.08);
  opacity: 0.45;
  pointer-events: none;
}
.topbar-btn[data-active="true"],
.topbar-chip[data-active="true"] {
  color: #fff;
  border-color: rgba(var(--accent-rgb), 0.7);
  box-shadow: 0 0 50px rgba(var(--accent-rgb), 0.35), inset 0 0 0 1px rgba(var(--accent-rgb), 0.3);
}
.topbar-btn:hover,
.topbar-chip:hover {
  transform: translateY(-2px);
  box-shadow: 0 25px 60px rgba(var(--accent-rgb), 0.22);
}
.topbar-userchip {
  border-radius: var(--radius-pill);
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(11, 12, 24, 0.7);
  padding: 8px 20px;
  color: var(--text-body);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.2);
  transition: border-color 200ms ease, color 200ms ease, transform 200ms var(--ease-spring);
}
.topbar-userchip:hover {
  color: #fff;
  border-color: rgba(var(--accent-rgb), 0.45);
  transform: translateY(-1px);
}

/* Home page user name chip (top-right) */
.home-profile {
  position: absolute;
  top: clamp(20px, 2.5vw, 36px);
  right: clamp(18px, 2.5vw, 28px);
  z-index: 40;
}

/* ===== Home hero ===== */
.home-shell {
  min-height: 100vh;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: clamp(24px, 5vw, 48px);
  padding: clamp(40px, 8vw, 120px);
  position: relative;
  isolation: isolate;
  overflow: hidden;
}
.home-shell::before,
.home-shell::after {
  content: '';
  position: fixed;
  pointer-events: none;
  z-index: 0;
}
.home-shell::before {
  inset: -10% -20%;
  background:
    radial-gradient(circle at 50% 20%, rgba(var(--accent-rgb), 0.25), transparent 60%),
    radial-gradient(circle at 60% 80%, rgba(var(--accent-rgb), 0.18), transparent 70%);
  filter: blur(120px);
  opacity: 0.9;
}
.home-shell::after {
  inset: 0;
  background: radial-gradient(circle at 50% 110%, rgba(4,4,10,0.9), transparent 75%);
  opacity: 0.85;
}
.home-hero {
  width: min(960px, 100%);
  padding: clamp(32px, 6vw, 80px) clamp(18px, 5vw, 42px);
  text-align: center;
  border: none;
  background: transparent;
  box-shadow: none;
}
.home-hero::before,
.home-hero::after,
.home-hero__halo {
  display: none;
}
.auth-shell {
  min-height: calc(100vh - var(--topbar-height, 0px));
  height: calc(100vh - var(--topbar-height, 0px));
  box-sizing: border-box;
  padding: clamp(10px, 5vh, 24px) clamp(24px, 15vw, 80px);
  display: flex;
  align-items: flex-start;
  justify-content: center;
  color: var(--text-strong);
  margin-top: 0;
  padding-top: calc(var(0, 0px) + clamp(8px, 2vh, 20px));
  overflow: hidden;
}
.auth-wrapper {
  width: min(1100px, 100%);
  display: flex;
  flex-direction: column;
  gap: 32px;
}
@media (min-width: 900px) {
  .auth-wrapper { flex-direction: row; gap: 48px; align-items: center; }
}
.auth-hero {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 18px;
  max-width: 520px;
}
.auth-eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.35em;
  font-size: 12px;
  color: rgba(255,255,255,0.45);
  margin: 0;
}
.auth-title {
  margin: 0;
  font-size: clamp(40px, 5vw, 56px);
  line-height: 1.1;
}
.auth-body {
  margin: 0;
  color: var(--text-dim);
  font-size: 18px;
}
.auth-toggle-group {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}
.auth-toggle {
  border-radius: 999px;
  padding: 10px 20px;
  border: 1px solid rgba(255,255,255,0.2);
  background: transparent;
  color: rgba(255,255,255,0.75);
  font-size: 13px;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  transition: border-color 200ms ease, color 200ms ease, background 200ms ease, box-shadow 200ms ease;
}
.auth-toggle.is-active {
  border-color: rgba(var(--teal-rgb), 0.55);
  color: rgba(255,255,255,0.95);
  background: rgba(var(--teal-rgb), 0.08);
  box-shadow: 0 20px 45px rgba(var(--teal-rgb), 0.25);
}
.auth-panel {
  flex: 1;
  position: relative;
  border-radius: var(--glass-panel-radius);
  border: 1px solid var(--glass-border);
  background: rgba(var(--base-rgb), 0.82);
  box-shadow: var(--shadow-liquid);
  backdrop-filter: blur(var(--glass-blur));
  padding: clamp(28px, 4vw, 48px);
  overflow: hidden;
}
.auth-panel::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(140% 160% at 60% 0%, rgba(var(--violet-rgb),0.08), transparent 70%);
  filter: var(--glass-filter);
  opacity: 0.9;
  pointer-events: none;
}
.auth-panel::after {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  border: 1px solid rgba(255,255,255,0.08);
  pointer-events: none;
  opacity: 0.55;
}
.auth-panel > * { position: relative; z-index: 1; }
.auth-panel__header { margin-bottom: 18px; }
.auth-panel__title { margin: 4px 0; font-size: 26px; }
.auth-panel__helper { margin: 0; color: rgba(255,255,255,0.6); font-size: 14px; }
.auth-form { display: flex; flex-direction: column; gap: 16px; }
.auth-field { display: flex; flex-direction: column; gap: 6px; font-size: 14px; }
.auth-field label { color: rgba(255,255,255,0.6); }
.auth-input {
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.45);
  padding: 12px 16px;
  color: var(--text-strong);
  font: inherit;
  outline: none;
  transition: border-color 180ms ease, box-shadow 180ms ease;
}
.auth-input:focus {
  border-color: rgba(var(--teal-rgb), 0.55);
  box-shadow: 0 12px 32px rgba(var(--teal-rgb), 0.2);
}
.auth-submit {
  border-radius: 18px;
  border: 1px solid rgba(var(--teal-rgb), 0.7);
  background: linear-gradient(120deg, rgba(var(--teal-rgb),0.9), rgba(var(--violet-rgb),0.7));
  color: #020305;
  font-weight: 600;
  padding: 12px 18px;
  transition: transform 160ms var(--ease-spring), box-shadow 180ms ease;
  box-shadow: 0 25px 60px rgba(var(--teal-rgb), 0.35);
}
.auth-submit:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 35px 80px rgba(var(--teal-rgb), 0.35);
}
.auth-submit:disabled { opacity: 0.65; cursor: not-allowed; }
.auth-message {
  margin-top: 16px;
  font-size: 14px;
  color: rgba(255,255,255,0.65);
}

.logout-shell {
  min-height: calc(100vh - var(--topbar-height, 0px));
  display: flex;
  align-items: flex-start; /* move content toward the top */
  justify-content: center;
  padding: clamp(18px, 4vw, 40px) clamp(20px, 4vw, 80px) clamp(60px, 8vw, 120px);
}

.logout-card {
  position: relative;
  width: min(720px, 94%); /* make larger */
  border-radius: 36px;
  border: 1px solid var(--glass-border);
  background: rgba(6, 8, 18, 0.94);
  box-shadow: var(--shadow-liquid);
  backdrop-filter: blur(var(--glass-blur)) saturate(150%);
  padding: clamp(40px, 6vw, 72px); /* more padding -> larger card */
  overflow: hidden;
  text-align: center;
}
.logout-card::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    radial-gradient(140% 150% at 40% -20%, rgba(var(--violet-rgb),0.2), transparent 60%),
    radial-gradient(140% 150% at 80% 140%, rgba(var(--teal-rgb),0.18), transparent 70%);
  filter: var(--glass-filter);
  opacity: 0.85;
  pointer-events: none;
}
.logout-card::after {
  content: '';
  position: absolute;
  inset: 2px;
  border-radius: inherit;
  border: 1px solid rgba(255,255,255,0.1);
  opacity: 0.5;
  pointer-events: none;
}
.logout-card > * { position: relative; z-index: 1; }

.logout-eyebrow {
  margin: 0 0 6px;
  text-transform: uppercase;
  letter-spacing: 0.4em;
  font-size: 12px;
  color: rgba(255,255,255,0.55);
}
.logout-title { margin: 0 0 8px; font-size: clamp(34px, 5vw, 52px); }
.logout-body {
  margin: 0 0 28px;
  color: rgba(255,255,255,0.85);
  font-size: clamp(16px, 2.2vw, 18px);
}
.logout-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 14px;
  justify-content: center;
  margin-top: 6px;
}
.logout-btn {
  border-radius: 999px;
  padding: 14px 28px;
  border: 1px solid rgba(255,255,255,0.2);
  color: rgba(255,255,255,0.95);
  font-weight: 700;
  font-size: 16px;
  transition: border-color 200ms ease, background 200ms ease, color 200ms ease, box-shadow 200ms ease;
}
.logout-btn--solid {
  border-color: rgba(var(--teal-rgb),0.6);
  background: linear-gradient(130deg, rgba(var(--teal-rgb),0.95), rgba(var(--violet-rgb),0.7));
  color: #020305;
  box-shadow: 0 30px 80px rgba(var(--teal-rgb),0.3);
}
.logout-btn--ghost:hover {
  border-color: rgba(255,255,255,0.4);
  background: rgba(255,255,255,0.05);
}
.logout-btn--solid:hover {
  border-color: rgba(var(--teal-rgb),0.8);
  box-shadow: 0 40px 110px rgba(var(--teal-rgb),0.35);
}

/* Disable scroll while on logout page */
body.no-scroll-logout {
  overflow: hidden !important;
  height: 100vh !important;
}

/* Slightly nudge the logout card upward when no-scroll is applied to avoid jump */
body.no-scroll-logout .logout-shell {
  padding-top: clamp(12px, 2.5vw, 28px);
}

/* Disable scroll on the acceso (login) page */
body.no-scroll-acceso {
  overflow: hidden !important;
  height: 100vh !important;
  touch-action: none;
}

/* Small adjustment to keep the acceso content from hugging the very top */
body.no-scroll-acceso .auth-shell {
  padding-top: clamp(18px, 3vw, 36px);
}
.home-hero__copy {
  display: flex;
  flex-direction: column;
  gap: 20px;
  align-items: center;
  position: relative;
  z-index: 2;
}
.home-title {
  font-size: clamp(52px, 7vw, 110px);
  margin: 0;
  color: #fff;
  text-shadow: 0 60px 120px rgba(0,0,0,0.6);
}
.home-tagline {
  margin: 0;
  color: var(--text-body);
  font-size: clamp(18px, 2vw, 24px);
  max-width: 560px;
}
.home-actions {
  display: flex;
  flex-direction: column;
  gap: 18px;
  margin-top: 24px;
}
.home-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
}
.home-tab {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  border-radius: var(--radius-pill);
  padding: 12px 30px;
  border: 1px solid rgba(255,255,255,0.12);
  color: rgba(255,255,255,0.78);
  font-size: 12px;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  background: rgba(8,10,20,0.65);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.25), 0 18px 45px rgba(0,0,0,0.45);
  overflow: hidden;
  transition: border-color 200ms ease, color 200ms ease, box-shadow 200ms ease, transform 200ms var(--ease-spring);
}
.home-tab::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: radial-gradient(circle at 50% 0%, rgba(255,255,255,0.2), transparent 60%);
  opacity: 0.35;
  pointer-events: none;
}
.home-tab::after {
  content: '';
  position: absolute;
  inset: 2px;
  border-radius: inherit;
  border: 1px solid rgba(255,255,255,0.12);
  opacity: 0.45;
  pointer-events: none;
}
.home-tab[data-variant="primary"] {
  border-color: rgba(var(--teal-rgb), 0.65);
  color: rgba(255,255,255,0.96);
  background: linear-gradient(130deg, rgba(var(--teal-rgb),0.35), rgba(var(--violet-rgb),0.35));
  box-shadow: 0 30px 70px rgba(var(--teal-rgb), 0.28);
}
.home-tab:hover {
  transform: translateY(-2px);
  border-color: rgba(var(--teal-rgb), 0.45);
  box-shadow: 0 35px 80px rgba(var(--teal-rgb), 0.25);
  color: rgba(255,255,255,0.92);
}
.home-checkin-trigger {
  border-radius: var(--radius-pill);
  border: 1px solid rgba(var(--teal-rgb), 0.65);
  padding: 16px 36px;
  background: linear-gradient(130deg, rgba(var(--teal-rgb), 0.95), rgba(var(--violet-rgb), 0.75));
  color: #020305;
  font-weight: 600;
  box-shadow: 0 40px 110px rgba(var(--teal-rgb), 0.35);
  position: relative;
  overflow: hidden;
}
.home-checkin-trigger::after {
  content: '';
  position: absolute;
  inset: 6px;
  border-radius: inherit;
  border: 1px solid rgba(255,255,255,0.55);
  opacity: 0.7;
}
.home-shell > .checkin-entry {
  width: min(460px, 90%);
  margin: 20px auto 0;
  padding: 0;
}
.home-shell > .checkin-entry .checkin-summary {
  position: relative;
  width: 100%;
  min-height: 92px;
  border-radius: 36px;
  border: 1px solid rgba(var(--teal-rgb), 0.6);
  background: linear-gradient(135deg, rgba(12,18,28,0.78), rgba(6,10,18,0.6));
  backdrop-filter: blur(34px) saturate(150%);
  box-shadow: 0 45px 120px rgba(var(--teal-rgb), 0.3);
  padding: 22px 32px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  color: rgba(255,255,255,0.9);
}
.home-shell > .checkin-entry .checkin-summary::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: radial-gradient(120% 160% at 20% -20%, rgba(var(--teal-rgb),0.25), transparent 60%), radial-gradient(160% 180% at 80% 140%, rgba(var(--violet-rgb),0.15), transparent 70%);
  opacity: 0.8;
  pointer-events: none;
}
.home-shell > .checkin-entry .checkin-summary::after {
  content: '';
  position: absolute;
  inset: 4px;
  border-radius: calc(36px - 4px);
  border: 1px solid rgba(255,255,255,0.3);
  opacity: 0.6;
  pointer-events: none;
}
.home-shell > .checkin-entry .checkin-summary:hover {
  border-color: rgba(var(--teal-rgb), 0.65);
  box-shadow: 0 60px 150px rgba(var(--teal-rgb), 0.33);
}
.home-shell > .checkin-entry .checkin-summary-lines {
  align-items: center;
  color: rgba(255,255,255,0.98);
  font-weight: 500;
  text-shadow: 0 6px 20px rgba(0,0,0,0.45);
}
.home-shell > .checkin-entry .checkin-summary-label {
  display: flex;
  align-items: center;
  gap: 8px;
  color: rgba(255,255,255,0.99);
  font-weight: 600;
}
.home-shell > .checkin-entry .checkin-summary-action {
  color: rgba(var(--teal-rgb), 1);
  font-weight: 700;
  text-shadow: 0 0 14px rgba(var(--teal-rgb), 0.45);
}
.home-checkin-shell {
  position: relative;
  z-index: 2;
  border-radius: var(--radius-xl);
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(8,10,22,0.88);
  box-shadow: 0 40px 120px rgba(0,0,0,0.6);
  padding: 18px;
  backdrop-filter: blur(40px);
}
.home-checkin-shell::before {
  content: '';
  position: absolute;
  inset: 12px;
  border-radius: calc(var(--radius-xl) - 12px);
  border: 1px solid rgba(255,255,255,0.08);
  opacity: 0.4;
}
.home-checkin-placeholder {
  min-height: 420px;
  border-radius: var(--radius-xl);
  border: 1px dashed rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
}

/* ===== Calendar ===== */
.calendar-stage {
  position: relative;
  padding: clamp(32px, 6vw, 80px);
  isolation: isolate;
}
.calendar-stage__bg {
  position: absolute;
  inset: 8% 6%;
  border-radius: 280px;
  background:
    radial-gradient(circle at 30% 0%, rgba(var(--accent-rgb), 0.3), transparent 60%),
    radial-gradient(circle at 70% 70%, rgba(var(--accent-rgb), 0.15), transparent 65%),
    rgba(3,4,12,0.85);
  filter: blur(140px);
  opacity: 0.85;
  pointer-events: none;
}
.calendar-hero {
  position: relative;
  z-index: 2;
}
.calendar-lens {
  position: relative;
  border-radius: var(--radius-xxl);
  border: 1px solid rgba(255,255,255,0.08);
  padding: clamp(28px, 4vw, 60px);
  background:
    radial-gradient(circle at 20% 0%, rgba(255,255,255,0.16), transparent 60%),
    radial-gradient(circle at 85% 90%, rgba(var(--accent-rgb), 0.18), transparent 55%),
    rgba(var(--glass-base-rgb), 0.9);
  background-image:
    radial-gradient(circle at 20% 0%, rgba(255,255,255,0.16), transparent 60%),
    radial-gradient(circle at 85% 90%, rgba(var(--accent-rgb), 0.18), transparent 55%),
    var(--panel-noise);
  box-shadow: var(--shadow-large);
  backdrop-filter: blur(60px) saturate(160%);
  overflow: hidden;
  animation: liquidPanelIntro 680ms var(--ease-liquid);
}
.calendar-lens::before {
  content: '';
  position: absolute;
  inset: 16px;
  border-radius: calc(var(--radius-xxl) - 16px);
  border: 1px solid rgba(255,255,255,0.08);
  opacity: 0.5;
  pointer-events: none;
}
.calendar-lens::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(180deg, rgba(255,255,255,0.12), transparent 60%);
  opacity: 0.4;
  pointer-events: none;
}
.calendar-lens__ambient {
  position: absolute;
  inset: clamp(16px, 2vw, 24px);
  border-radius: calc(var(--radius-xxl) - 18px);
  background: radial-gradient(circle at 40% 10%, rgba(var(--accent-rgb),0.28), transparent 65%);
  filter: blur(90px);
  opacity: 0.5;
}
.calendar-lens__inner {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  gap: 32px;
}
.calendar-header {
  position: relative;
  padding-bottom: 24px;
}
.calendar-halo {
  position: absolute;
  inset: 10% 8%;
  border-radius: 240px;
  background: radial-gradient(circle, rgba(var(--accent-rgb), 0.3), transparent 70%);
  filter: blur(120px);
  opacity: 0.55;
  pointer-events: none;
}
.calendar-header__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 18px;
}
.calendar-title {
  margin: 0;
  font-size: clamp(36px, 4vw, 62px);
  letter-spacing: -0.01em;
}
.calendar-subtitle {
  text-transform: uppercase;
  letter-spacing: 0.35em;
  font-size: 11px;
  color: var(--text-dim);
}
.calendar-weekdays {
  display: grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  text-align: center;
  color: var(--text-dim);
  letter-spacing: 0.25em;
  font-size: 12px;
}
.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  gap: 16px;
}
.calendar-nav-btn {
  width: 54px;
  height: 54px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(6,8,18,0.85);
  color: #fff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), 0 25px 60px rgba(0,0,0,0.4);
  position: relative;
  overflow: hidden;
}
.calendar-nav-btn::after {
  content: '';
  position: absolute;
  inset: 6px;
  border-radius: inherit;
  border: 1px solid rgba(var(--accent-rgb), 0.25);
  opacity: 0;
  transition: opacity 200ms ease;
}
.calendar-nav-btn:hover::after {
  opacity: 1;
}
.calendar-day {
  --calendar-day-radius: 32px;
  border-radius: var(--calendar-day-radius);
  border: 1px solid rgba(255,255,255,0.08);
  background:
    radial-gradient(circle at 30% 15%, rgba(255,255,255,0.18), transparent 55%),
    radial-gradient(circle at 80% 90%, rgba(var(--accent-rgb), 0.16), transparent 65%),
    rgba(8,10,22,0.75);
  background-image:
    radial-gradient(circle at 30% 15%, rgba(255,255,255,0.18), transparent 55%),
    radial-gradient(circle at 80% 90%, rgba(var(--accent-rgb), 0.16), transparent 65%),
    var(--panel-noise);
  min-height: 120px;
  position: relative;
  overflow: hidden;
  transition: transform 200ms var(--ease-spring), border-color 200ms ease, box-shadow 200ms ease;
  box-shadow: inset 0 -1px 0 rgba(255,255,255,0.05), 0 20px 45px rgba(4,4,14,0.55);
  backdrop-filter: blur(28px) saturate(150%);
  isolation: isolate;
}
.calendar-day::before {
  content: '';
  position: absolute;
  inset: 8px;
  border-radius: calc(var(--calendar-day-radius) - 8px);
  border: 1px solid rgba(255,255,255,0.08);
  background: radial-gradient(circle at 50% 0%, rgba(255,255,255,0.22), transparent 65%);
  opacity: 0.45;
  pointer-events: none;
}
.calendar-day::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: radial-gradient(circle at 50% 110%, rgba(0,0,0,0.5), transparent 60%);
  opacity: 0.4;
  pointer-events: none;
  mix-blend-mode: soft-light;
}
.calendar-day:hover {
  transform: translateY(-3px);
  box-shadow: 0 25px 65px rgba(4,4,14,0.65), 0 0 30px rgba(var(--accent-rgb), 0.25);
}
.calendar-day.is-selected {
  border-color: rgba(var(--accent-rgb), 0.6);
  box-shadow: 0 35px 90px rgba(4,4,14,0.7), 0 0 30px rgba(var(--accent-rgb), 0.4);
  animation: daySelectPulse 900ms var(--ease-liquid);
}
.calendar-day--checkin {
  border-color: rgba(var(--accent-rgb), 0.35);
  box-shadow: 0 30px 80px rgba(4,4,14,0.65), 0 0 26px rgba(var(--accent-rgb), 0.35);
}
.calendar-day--checkin::before {
  border-color: rgba(var(--accent-rgb), 0.3);
}
.calendar-day--today {
  border-color: rgba(var(--accent-rgb), 0.8);
  box-shadow: 0 40px 120px rgba(var(--accent-rgb), 0.35);
}
.calendar-day--dim {
  opacity: 0.65;
}
.calendar-day--future {
  opacity: 0.75;
  filter: saturate(0.7);
}
.calendar-day--out {
  opacity: 0.3;
  filter: grayscale(1);
}
.calendar-day__surface {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 16px 0 10px;
  min-height: 120px;
}
.calendar-day__date {
  font-size: 34px;
  font-weight: 600;
  color: rgba(255,255,255,0.9);
  text-shadow: 0 6px 18px rgba(0,0,0,0.45);
}
.calendar-day--today .calendar-day__date {
  color: #fff;
}
.calendar-day--dim .calendar-day__date {
  color: rgba(255,255,255,0.32);
}
.calendar-day__dots {
  display: flex;
  gap: 10px;
  justify-content: center;
  align-items: flex-end;
  width: 100%;
  margin-top: auto;
  padding-bottom: 6px;
}
.calendar-day__dots[data-muted="true"] {
  opacity: 0.28;
  filter: saturate(0.5);
}
.calendar-dot {
  --dot-rgb: var(--indicator-checkin-rgb);
  --dot-size: 12px;
  width: var(--dot-size);
  height: var(--dot-size);
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.85), rgba(var(--dot-rgb), 0.85));
  box-shadow: 0 0 10px rgba(var(--dot-rgb), 0.3);
  opacity: 0.45;
  transform: scale(0.78);
  transition: opacity 220ms ease, transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease;
  position: relative;
}
.calendar-dot::after {
  content: '';
  position: absolute;
  inset: -6px;
  border-radius: inherit;
  background: radial-gradient(circle, rgba(var(--dot-rgb), 0.45), transparent 70%);
  opacity: 0.2;
  transition: opacity 200ms ease, filter 200ms ease;
}
.calendar-dot[data-state='off'] {
  opacity: 0.2;
  box-shadow: 0 0 4px rgba(var(--indicator-off-rgb), 0.4);
  transform: scale(0.6);
}
.calendar-dot[data-state='subtle'] {
  opacity: 0.55;
  box-shadow: 0 0 12px rgba(var(--dot-rgb), 0.35);
  transform: scale(0.72);
}
.calendar-dot[data-state='medium'] {
  opacity: 0.85;
  box-shadow: 0 0 18px rgba(var(--dot-rgb), 0.5);
  transform: scale(0.88);
}
.calendar-dot[data-state='on'] {
  opacity: 1;
  box-shadow: 0 0 26px rgba(var(--dot-rgb), 0.65), 0 0 36px rgba(var(--dot-rgb), 0.45);
  transform: scale(0.98);
}
.calendar-dot[data-state='on']::after {
  opacity: 0.85;
  filter: blur(4px);
}
.calendar-dot[data-remind='true'] {
  animation: calendarDotPulse 2.4s ease-in-out infinite;
}
.calendar-dot[data-variant='ring'] {
  background: transparent;
  border: 2px solid rgba(var(--dot-rgb), 0.7);
  box-shadow: 0 0 10px rgba(var(--dot-rgb), 0.35);
  opacity: 0.8;
}
.calendar-dot[data-variant='ring'][data-state='off'] {
  border-color: rgba(var(--indicator-off-rgb), 0.65);
  opacity: 0.45;
  box-shadow: none;
}
.calendar-dot--checkin { --dot-rgb: var(--indicator-checkin-rgb); }
.calendar-dot--activity { --dot-rgb: var(--indicator-tasks-rgb); }

/* ===== Day overlay ===== */
.day-overlay {
  position: fixed;
  inset: 0;
  z-index: 1200;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding: clamp(12px, 3vh, 36px) clamp(12px, 5vw, 48px);
  isolation: isolate;
  overflow-y: auto;
}
.day-overlay__veil {
  position: absolute;
  inset: 0;
  background: rgba(2,4,12,0.6);
}
.day-pane__scroll {
  padding: 0;
  overflow-y: auto;
  max-height: 100%;
  scrollbar-width: none;
  flex: 1;
  width: 100%;
  padding-bottom: 40px;
  position: relative;
}
.day-pane__scroll::-webkit-scrollbar { display: none; }
.day-pane__scroll::after {
  content: '';
  position: sticky;
  bottom: -1px;
  height: 48px;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(3,4,12,0), rgba(3,4,12,0.85));
  border-bottom-left-radius: var(--radius-xxl);
  border-bottom-right-radius: var(--radius-xxl);
  margin-top: auto;
}
.day-pane__content {
  width: 100%;
  max-width: 900px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 32px;
}
.day-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 32px;
  margin-top: 32px;
}
.day-grid > * {
  min-height: 160px;
}
@media (max-width: 900px) {
  .day-grid {
    grid-template-columns: 1fr;
  }
}
.day-pane {
  width: 90%;
  max-width: 1200px;
  margin: 40px auto;
  max-height: min(92vh, 900px);
  border-radius: 32px;
  border: 1px solid rgba(160,175,255,0.18);
  background:
    radial-gradient(circle at 20% -20%, rgba(120,140,255,0.25), transparent 55%),
    radial-gradient(circle at 80% 120%, rgba(40,200,200,0.18), transparent 65%),
    rgba(10,12,20,0.55);
  background-image:
    radial-gradient(circle at 20% -20%, rgba(120,140,255,0.25), transparent 55%),
    radial-gradient(circle at 80% 120%, rgba(40,200,200,0.18), transparent 65%),
    var(--panel-noise);
  box-shadow: 0 40px 120px rgba(2,4,8,0.75);
  padding: 40px;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(28px) saturate(140%);
  animation: liquidPanelIntro 720ms var(--ease-liquid);
  z-index: 1;
}
.day-pane::before {
  content: '';
  position: absolute;
  inset: 8px;
  border-radius: 28px;
  border: 1px solid rgba(255,255,255,0.08);
  opacity: 0.6;
  pointer-events: none;
}
.day-pane::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(180deg, rgba(255,255,255,0.08), transparent 60%);
  opacity: 0.4;
  pointer-events: none;
}
.day-pane__halo {
  position: absolute;
  inset: -30%;
  background: radial-gradient(circle, rgba(var(--accent-rgb), 0.2), transparent 70%);
  filter: blur(90px);
  opacity: 0.8;
  pointer-events: none;
  z-index: 1;
}
.day-pane__light {
  position: absolute;
  width: 280px;
  height: 280px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(var(--accent-rgb), 0.25), transparent 70%);
  filter: blur(60px);
  opacity: 0.4;
  pointer-events: none;
  mix-blend-mode: screen;
}
.day-pane__light--one {
  top: -80px;
  left: -40px;
}
.day-pane__light--two {
  bottom: -90px;
  right: -40px;
  background: radial-gradient(circle, rgba(var(--teal-rgb), 0.3), transparent 70%);
}
.day-pane > * {
  position: relative;
  z-index: 2;
}
.day-pane__topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 16px;
  min-height: 72px;
}
.day-pane__close {
  width: 42px;
  height: 42px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(6,8,20,0.65);
  color: rgba(230,234,255,0.9);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.15), 0 12px 28px rgba(0,0,0,0.4);
}
.day-pane__close:hover {
  border-color: rgba(var(--accent-rgb), 0.45);
  color: #fff;
}
.day-pane__chip-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.35em;
  color: rgba(255,255,255,0.5);
  flex: 1;
  display: flex;
  align-items: center;
}
.day-pane__head {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.day-pane__eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.32em;
  font-size: 0.72rem;
  color: rgba(255,255,255,0.4);
  margin: 0;
}
.day-pane__title {
  margin: 16px 0 8px;
  font-size: clamp(2.1rem, 3vw, 2.4rem);
  font-weight: 700;
  color: rgba(244,244,255,0.96);
  line-height: 1.15;
}
.day-pane__subtitle {
  margin: 0 0 12px;
  font-size: 0.95rem;
  color: rgba(230,230,255,0.65);
  line-height: 1.4;
}
.day-pane__primary {
  margin: 12px 0 0;
  align-self: flex-start;
  border-radius: 999px;
  padding: 12px 28px;
  border: 1px solid rgba(var(--accent-rgb), 0.5);
  background: linear-gradient(120deg, rgba(var(--accent-rgb), 0.9), rgba(var(--teal-rgb), 0.85));
  color: rgba(248,248,255,0.98);
  font-size: 0.85rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  font-weight: 600;
  box-shadow: 0 20px 45px rgba(var(--accent-rgb), 0.35);
  cursor: pointer;
  transition: transform 160ms ease, box-shadow 160ms ease;
}
.day-pane__primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 25px 55px rgba(var(--accent-rgb), 0.45);
}
.day-panorama {
  margin-top: 28px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.day-panorama__label {
  font-size: 0.72rem;
  letter-spacing: 0.32em;
  color: rgba(255,255,255,0.45);
  margin: 0;
}
.day-panorama__description {
  margin: 0;
  color: rgba(230,230,255,0.7);
  font-size: 0.95rem;
  line-height: 1.4;
}
.day-panorama__stats {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 24px;
}
.day-panorama__stat {
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(5,7,18,0.65);
  padding: 18px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.day-panorama__stat span {
  font-size: 0.7rem;
  letter-spacing: 0.26em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.45);
}
.day-panorama__stat strong {
  font-size: 1.2rem;
  font-weight: 600;
  color: rgba(250,250,255,0.95);
}
.day-composer {
  margin-top: 18px;
  border-radius: 24px;
  border: 1px solid rgba(255,255,255,0.08);
  background:
    radial-gradient(circle at 20% 0%, rgba(var(--accent-rgb), 0.12), transparent 60%),
    rgba(4,5,16,0.7);
  padding: 18px 20px;
  display: flex;
  flex-direction: column;
  gap: 18px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), 0 25px 60px rgba(0,0,0,0.45);
}
.day-composer__group {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.day-composer__actions {
  display: flex;
  justify-content: flex-end;
}
.day-field-group {
  display: grid;
  gap: 14px;
}
.day-field-group--triple {
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
}
.day-field {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.day-field__label {
  font-size: 0.65rem;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.6);
}
.day-field input {
  width: 100%;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(6,8,20,0.8);
  color: rgba(250,250,255,0.95);
  padding: 10px 14px;
  font-size: 0.95rem;
}
.day-field input::placeholder {
  color: rgba(255,255,255,0.45);
}
.day-field--compact input {
  text-align: center;
  font-variant-numeric: tabular-nums;
}
.day-field--inline {
  flex-direction: row;
  align-items: flex-end;
  justify-content: flex-start;
  gap: 16px;
}
.day-field__control {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(10,12,26,0.8);
}
.day-field__control input {
  border: none;
  background: transparent;
  width: 72px;
  padding: 6px 0;
  font-size: 0.95rem;
  color: #fff;
  text-align: center;
}
.day-field__control input:focus {
  outline: none;
}
.day-field__suffix {
  font-size: 0.65rem;
  letter-spacing: 0.32em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.7);
}
.day-repeat-options {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}
.day-repeat-option {
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(6,8,20,0.65);
  color: rgba(255,255,255,0.75);
  padding: 10px 14px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  text-transform: uppercase;
  letter-spacing: 0.25em;
  font-size: 0.68rem;
  cursor: pointer;
  transition: border-color 180ms ease, background 180ms ease, color 180ms ease, transform 200ms var(--ease-spring);
}
.day-repeat-option small {
  letter-spacing: normal;
  text-transform: none;
  font-size: 0.72rem;
  color: rgba(255,255,255,0.55);
}
.day-repeat-option.is-active {
  border-color: rgba(var(--accent-rgb), 0.55);
  background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.35), rgba(var(--teal-rgb), 0.3));
  color: #fff;
  transform: translateY(-2px);
  box-shadow: 0 18px 38px rgba(var(--accent-rgb), 0.25);
}
.day-repeat-option.is-active small {
  color: rgba(255,255,255,0.85);
}
.day-repeat-settings {
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.day-weekdays {
  display: grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  gap: 8px;
}
.day-weekday {
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  padding: 10px 0;
  text-align: center;
  font-size: 0.8rem;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.6);
  transition: border-color 180ms ease, background 180ms ease, color 180ms ease, transform 180ms var(--ease-spring);
  cursor: pointer;
}
.day-weekday.is-active {
  border-color: rgba(var(--accent-rgb), 0.6);
  background: rgba(var(--accent-rgb), 0.25);
  color: #fff;
  transform: translateY(-2px);
  box-shadow: 0 10px 22px rgba(var(--accent-rgb), 0.25);
}
.day-note__actions {
  margin-top: 12px;
  display: flex;
  justify-content: flex-end;
}
.day-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.day-tag__actions {
  display: flex;
  gap: 10px;
  margin-top: 12px;
}
.day-pane__status {
  border-radius: 999px;
  padding: 6px 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(8,10,22,0.65);
  font-size: 0.72rem;
  letter-spacing: 0.32em;
  text-transform: uppercase;
  color: rgba(250,250,255,0.9);
}
.day-pane__status[data-tone="turquoise"],
.day-pane__status[data-tone="violet"] {
  border-color: rgba(var(--accent-rgb), 0.4);
  background: rgba(var(--accent-rgb), 0.2);
  color: rgba(248,248,255,0.95);
}
@media (max-width: 900px) {
  .day-pane {
    padding: 32px;
  }
  .day-grid {
    grid-template-columns: 1fr;
  }
  .day-pane__topbar {
    flex-wrap: wrap;
  }
  .day-pane__content {
    gap: 24px;
  }
}
.day-pane__support {
  margin: 4px 0 0;
  color: rgba(220,220,255,0.55);
  font-size: 0.85rem;
}
.day-card {
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(2,4,12,0.55);
  padding: 24px;
  min-height: 160px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  box-shadow: 0 25px 70px rgba(3,4,12,0.4);
}
.day-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}
.day-card__title {
  margin: 0;
  font-size: 0.85rem;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.55);
}
.day-card__actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}
.day-card__action {
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(4,5,16,0.75);
  color: #fff;
  padding: 10px 22px;
  font-size: 0.72rem;
  font-weight: 600;
  letter-spacing: 0.32em;
  text-transform: uppercase;
  cursor: pointer;
  transition: border-color 180ms ease, background 200ms ease, color 180ms ease, transform 200ms var(--ease-spring);
}
.day-card__action:hover {
  border-color: rgba(255,255,255,0.4);
  color: #fff;
  transform: translateY(-2px);
}
.day-card__action.is-primary {
  border-color: rgba(var(--accent-rgb), 0.6);
  background: linear-gradient(125deg, rgba(var(--accent-rgb), 0.9), rgba(var(--teal-rgb), 0.85));
  color: #fff;
  box-shadow: 0 35px 80px rgba(var(--accent-rgb), 0.32);
}
.day-card__action.is-disabled {
  opacity: 0.4;
  pointer-events: none;
  cursor: not-allowed;
}
.day-card__body {
  flex: 1;
  color: rgba(255,255,255,0.85);
  font-size: 0.95rem;
  line-height: 1.5;
}
.day-chip-group {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 12px;
}
.day-chip-group[data-variant="priority"] {
  justify-content: space-between;
  width: 100%;
}
.day-chip {
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(4,6,18,0.7);
  color: #fff;
  padding: 12px 16px;
  width: min(240px, 100%);
  display: flex;
  flex-direction: column;
  gap: 4px;
  text-align: left;
  cursor: pointer;
  font: inherit;
  line-height: 1.3;
  transition: border-color 200ms ease, background 200ms ease, color 200ms ease, transform 200ms var(--ease-spring), box-shadow 200ms ease;
}
.day-chip__label {
  font-size: 0.7rem;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  font-weight: 600;
  color: #fff;
}
.day-chip__hint {
  font-size: 0.85rem;
  color: rgba(255,255,255,0.75);
}
.day-chip.is-active {
  border-color: rgba(var(--accent-rgb), 0.65);
  background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.3), rgba(var(--teal-rgb), 0.25));
  color: #fff;
  transform: translateY(-2px);
  box-shadow: 0 30px 70px rgba(var(--accent-rgb), 0.3);
}
.day-chip.is-active .day-chip__hint {
  color: rgba(255,255,255,0.92);
}
.day-chip[data-tone="turquoise"].is-active {
  border-color: rgba(var(--teal-rgb), 0.65);
  background: linear-gradient(135deg, rgba(var(--teal-rgb), 0.35), rgba(var(--accent-rgb), 0.25));
  box-shadow: 0 30px 70px rgba(var(--teal-rgb), 0.28);
}
.day-chip[data-priority="alta"] {
  border-color: rgba(255,140,170,0.35);
}
.day-chip[data-priority="media"] {
  border-color: rgba(var(--accent-rgb), 0.25);
}
.day-chip[data-priority="baja"] {
  border-color: rgba(var(--teal-rgb), 0.25);
}
.day-chip[data-priority="alta"].is-active {
  background: linear-gradient(140deg, rgba(255,108,168,0.35), rgba(var(--accent-rgb), 0.2));
}
.day-chip[data-priority="baja"].is-active {
  background: linear-gradient(140deg, rgba(var(--teal-rgb), 0.35), rgba(255,255,255,0.25));
}
.day-register {
  margin-top: 8px;
  border-radius: var(--radius-xl);
  border: 1px solid rgba(var(--accent-rgb), 0.35);
  background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.25), rgba(255,255,255,0.18));
  padding: 20px 26px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: #fff;
  box-shadow: 0 40px 100px rgba(var(--accent-rgb), 0.3);
  position: relative;
  overflow: hidden;
}
.day-register::after {
  content: '';
  position: absolute;
  inset: 10px;
  border-radius: inherit;
  border: 1px dashed rgba(255,255,255,0.4);
  opacity: 0.6;
  pointer-events: none;
}
.day-register__label {
  font-size: 12px;
  letter-spacing: 0.35em;
  text-transform: uppercase;
  opacity: 0.8;
}
.day-register__title {
  font-size: 20px;
  font-weight: 600;
}
.day-agenda,
.day-task-list {
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.day-agenda__item,
.day-task-line {
  --tone-rgb: var(--accent-rgb);
  position: relative;
  border-radius: 26px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(5,6,18,0.68);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), 0 22px 60px rgba(0,0,0,0.5);
  overflow: hidden;
}
.day-agenda__item {
  padding: 18px 22px 18px 76px;
  display: flex;
  align-items: flex-start;
  gap: 24px;
}
.day-agenda__item[data-tone="turquoise"],
.day-task-line[data-tone="turquoise"] {
  --tone-rgb: var(--teal-rgb);
}
.day-agenda__tone {
  position: absolute;
  left: 28px;
  top: 16px;
  bottom: 16px;
  width: 6px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(var(--tone-rgb), 0.95), rgba(var(--tone-rgb), 0.28));
  box-shadow: 0 0 30px rgba(var(--tone-rgb), 0.4);
}
.day-agenda__tone::after {
  content: '';
  position: absolute;
  top: -10px;
  left: -6px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: rgba(var(--tone-rgb), 0.9);
  box-shadow: 0 12px 24px rgba(var(--tone-rgb), 0.4);
}
.day-agenda__content {
  flex: 1;
}
.day-agenda__time {
  margin: 0;
  font-size: 0.72rem;
  letter-spacing: 0.32em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.55);
}
.day-agenda__title {
  margin: 6px 0 0;
  font-size: 1.05rem;
  font-weight: 600;
  color: rgba(252,252,255,0.95);
}
.day-agenda__actions {
  display: flex;
  align-items: center;
  gap: 10px;
}
.day-task-list {
  gap: 12px;
}
.day-task-line {
  padding: 14px 18px;
  display: flex;
  align-items: center;
  gap: 16px;
  border-radius: 22px;
}
.day-task-line[data-done="true"] {
  border-style: dashed;
  background: rgba(3,4,12,0.6);
}
.day-task-line__indicator {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 2px solid rgba(var(--tone-rgb), 0.6);
  box-shadow: 0 0 0 4px rgba(var(--tone-rgb), 0.15), 0 16px 26px rgba(var(--tone-rgb), 0.35);
  position: relative;
}
.day-task-line__indicator::after {
  content: '';
  position: absolute;
  inset: 3px;
  border-radius: inherit;
  background: rgba(var(--tone-rgb), 0.7);
}
.day-task-line[data-done="true"] .day-task-line__indicator::after {
  background: rgba(var(--tone-rgb), 0.12);
}
.day-task-line__text {
  margin: 0;
  flex: 1;
  font-size: 0.95rem;
  color: rgba(248,248,255,0.9);
}
.day-task-line[data-done="true"] .day-task-line__text {
  color: rgba(255,255,255,0.55);
  text-decoration: line-through;
}
.day-task-line__actions {
  display: flex;
  align-items: center;
  gap: 10px;
}
.day-empty {
  margin: 0;
  font-size: 0.9rem;
  color: rgba(255,255,255,0.5);
}
.day-label {
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 0.75rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.03);
  color: rgba(255,255,255,0.75);
}
.day-label--turquoise {
  border-color: rgba(var(--accent-rgb), 0.45);
  color: rgba(var(--accent-rgb), 0.85);
}
.day-label--muted {
  color: var(--text-dim);
}
.day-delete {
  color: #fff;
  font-size: 0.72rem;
  font-weight: 600;
  letter-spacing: 0.26em;
  text-transform: uppercase;
  border-radius: 999px;
  padding: 6px 14px;
  border: 1px solid rgba(255,180,200,0.45);
  background: rgba(255,140,170,0.08);
  transition: border-color 180ms ease, background 180ms ease, color 180ms ease;
}
.day-delete:hover {
  border-color: rgba(255,210,224,0.85);
  background: rgba(255,180,200,0.2);
  color: #fff;
}
.day-note {
  width: 100%;
  min-height: 160px;
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.45);
  padding: 18px;
  color: rgba(255,255,255,0.85);
  font-family: inherit;
  font-size: 0.95rem;
  line-height: 1.5;
}
.day-tag {
  border-radius: 999px;
  padding: 6px 14px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(5,6,16,0.7);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.1);
  font-size: 0.78rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: rgba(235,235,255,0.85);
}
.day-tag[data-tone="turquoise"],
.day-tag[data-tone="violet"] {
  border-color: rgba(var(--accent-rgb), 0.45);
  color: rgba(var(--accent-rgb), 0.88);
}
.day-insight {
  border-radius: 18px;
  padding: 12px 16px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.45);
  color: rgba(255,255,255,0.8);
  font-size: 0.95rem;
}
.day-form-overlay {
  position: fixed;
  inset: 0;
  z-index: 1300;
  display: grid;
  place-items: center;
}
.day-form__backdrop {
  background: rgba(0,0,0,0.7);
  backdrop-filter: blur(12px);
}
.day-form-panel,
.day-checkin-modal {
  border-radius: var(--radius-xl);
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(6,8,18,0.9);
  box-shadow: var(--shadow-large);
  padding: 28px;
  width: min(720px, calc(100% - 32px));
}
.day-form__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}
.day-form {
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.day-form__field {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 14px;
}
.day-form__input,
.day-form select {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(0,0,0,0.3);
  padding: 10px 14px;
  color: var(--text-strong);
  font: inherit;
}
.day-form__grid {
  display: grid;
  gap: 14px;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
}
.day-form__hint {
  font-size: 13px;
  color: var(--text-dim);
}
.day-form__error {
  color: #ff9ea5;
  font-size: 14px;
  margin: 4px 0 0;
}
.day-form__actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}
.btn-cal-ghost,
.btn-cal-primary {
  border-radius: var(--radius-pill);
  padding: 10px 20px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(8,10,20,0.65);
  color: var(--text-body);
}
.btn-cal-primary {
  border-color: rgba(var(--accent-rgb), 0.5);
  background: rgba(var(--accent-rgb), 0.18);
  color: #fff;
}
/* ===== Check-in ===== */
.checkin-layer {
  position: fixed;
  inset: 0;
  z-index: 60;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: clamp(24px, 6vw, 80px);
}
.checkin-layer.is-inline {
  position: relative;
  inset: auto;
  padding: 0;
}
.checkin-layer.is-inline .checkin-panel { width: 100%; border-radius: var(--radius-xl); }
.checkin-backdrop {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 30% 10%, rgba(var(--accent-rgb), 0.25), transparent 65%),
              radial-gradient(circle at 70% 80%, rgba(var(--accent-rgb), 0.18), transparent 65%),
              rgba(3,4,10,0.85);
  backdrop-filter: blur(24px);
  border-radius: var(--radius-xxl);
}
.checkin-panel {
  border-radius: var(--radius-xxl);
  border: 1px solid rgba(255,255,255,0.18);
  background:
    radial-gradient(circle at 15% 0%, rgba(255,255,255,0.16), transparent 55%),
    rgba(6,8,20,0.92);
  box-shadow: 0 90px 150px rgba(6,2,26,0.65);
  padding: clamp(28px, 4vw, 42px);
  display: flex;
  flex-direction: column;
  gap: 28px;
  position: relative;
  width: min(760px, 100%);
  overflow: hidden;
  transition: transform 520ms var(--ease-liquid), box-shadow 520ms ease;
}
.checkin-panel::before {
  content: '';
  position: absolute;
  inset: 12px;
  border-radius: calc(var(--radius-xxl) - 12px);
  border: 1px solid rgba(255,255,255,0.12);
  opacity: 0.45;
  pointer-events: none;
}
.checkin-panel::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: radial-gradient(circle at 50% -5%, rgba(255,255,255,0.2), transparent 60%);
  opacity: 0.35;
  pointer-events: none;
}
.checkin-panel > * { position: relative; z-index: 2; }
.checkin-layer:not(.is-inline) .checkin-panel:hover { transform: translateY(-6px) scale(1.01); }
.checkin-header {
  display: flex;
  justify-content: space-between;
  gap: 24px;
  align-items: center;
  flex-wrap: wrap;
}
.checkin-heading { margin: 0; font-size: 26px; }
.checkin-date { margin: 0; color: var(--text-body); }
.checkin-header-side { display: flex; align-items: center; gap: 12px; }
.checkin-status {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.35em;
  color: var(--text-body);
  display: inline-flex;
  align-items: center;
  gap: 10px;
}
.checkin-status .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(var(--accent-rgb), 0.7);
  box-shadow: 0 0 10px rgba(var(--accent-rgb), 0.6);
}
.checkin-status.saved { color: rgba(var(--accent-rgb), 0.9); }
.checkin-status.saved .dot { background: rgba(var(--accent-rgb), 0.95); }
.checkin-close {
  border: none;
  padding: 6px;
  background: none;
  color: var(--text-body);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: color 160ms ease, transform 160ms var(--ease-spring);
}
.checkin-close:hover { color: #fff; transform: scale(1.06); }
.checkin-close.is-floating { position: absolute; top: 22px; right: 22px; }
.checkin-block {
  border-radius: var(--radius-xl);
  border: 1px solid rgba(255,255,255,0.14);
  padding: 20px 24px;
  background: rgba(9,11,24,0.65);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.15), 0 20px 60px rgba(5,4,18,0.45);
}
.checkin-label { font-weight: 600; margin-bottom: 6px; }
.checkin-sub { margin: 0; color: var(--text-body); font-size: 14px; }
.checkin-sleep {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
  justify-content: center;
  width: 100%;
}
.checkin-sleep-hours { font-size: 32px; font-weight: 600; }
.checkin-pill-group { display: flex; flex-wrap: wrap; gap: 10px; }
.checkin-pill { border-radius: var(--radius-pill); padding: 10px 18px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.05); color: var(--text-body); }
.checkin-pill[data-active="true"] { border-color: rgba(var(--accent-rgb), 0.55); background: rgba(var(--accent-rgb), 0.18); color: #fff; }
.checkin-stars {
  display: flex;
  justify-content: center;
  gap: 8px;
}
.star-btn {
  border: none;
  padding: 0;
  background: none;
  width: 36px;
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  filter: drop-shadow(0 12px 18px rgba(0,0,0,0.35));
}
.star-btn svg { width: 32px; height: 32px; }
.star-btn.is-active { filter: drop-shadow(0 15px 24px rgba(var(--accent-rgb), 0.35)); }
.checkin-slider {
  position: relative;
  padding: 26px 32px 22px;
  margin-top: 18px;
  border-radius: var(--radius-xl);
  border: 1px solid rgba(255,255,255,0.14);
  background: linear-gradient(145deg, rgba(12,14,30,0.92), rgba(6,8,18,0.82));
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.12), 0 22px 60px rgba(4,3,16,0.6);
  overflow: hidden;
}
.checkin-slider::after {
  content: '';
  position: absolute;
  inset: 16px 24px;
  border-radius: 999px;
  background: radial-gradient(circle at var(--energy-fill, 0%) 50%, rgba(var(--accent-rgb), 0.45), transparent 56%);
  opacity: 0.35;
  filter: blur(32px);
  transition: background-position 240ms var(--ease-liquid), opacity 240ms ease;
  pointer-events: none;
}
.checkin-slider-scale {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  color: var(--text-dim);
  margin-top: 10px;
  position: relative;
  z-index: 1;
}
.checkin-slider-scale span { flex: 1; text-align: center; }
.checkin-moods,
.checkin-stress {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  text-align: center;
}
.checkin-focus { display: flex; justify-content: center; }
.mood-pill { border-radius: var(--radius-pill); padding: 10px 16px; border: 1px solid rgba(255,255,255,0.18); background: rgba(255,255,255,0.04); }
.mood-pill.is-active {
  border-color: rgba(var(--accent-rgb), 0.7);
  background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.4), rgba(var(--accent-rgb), 0.35));
  color: #fff;
  box-shadow: 0 20px 60px rgba(var(--accent-rgb), 0.35);
}
.checkin-actions { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px; }
.checkin-error { color: #ff9ea5; }
.checkin-hint { font-size: 13px; color: var(--text-dim); }
.checkin-save {
  border-radius: var(--radius-pill);
  padding: 14px 32px;
  border: 1px solid rgba(var(--accent-rgb), 0.4);
  background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.9), rgba(255,255,255,0.85));
  color: #031018;
  font-weight: 600;
  box-shadow: 0 50px 140px rgba(var(--accent-rgb), 0.38);
  transition: transform 180ms var(--ease-spring), box-shadow 200ms ease;
}
.checkin-save:hover { transform: translateY(-2px); box-shadow: 0 60px 160px rgba(var(--accent-rgb), 0.45); }
.checkin-save:active { transform: translateY(2px); }

.checkin-entry { border-radius: var(--radius-xl); border: 1px solid rgba(255,255,255,0.18); background: rgba(255,255,255,0.05); padding: 16px 18px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.2); }
.checkin-entry.is-collapsed { cursor: pointer; }
.checkin-summary { display: flex; justify-content: space-between; gap: 18px; align-items: center; }
.checkin-summary-lines { display: flex; flex-direction: column; gap: 6px; }
.checkin-summary-label { margin: 0; font-weight: 600; display: flex; align-items: center; gap: 8px; }
.checkin-summary-check { width: 22px; height: 22px; border-radius: 50%; background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.8), rgba(var(--accent-rgb), 0.8)); display: inline-flex; align-items: center; justify-content: center; color: #031018; }
.checkin-summary-info { margin: 0; color: var(--text-body); }
.checkin-summary-action { color: rgba(var(--accent-rgb), 0.85); font-weight: 600; }
.checkin-summary--pulse { animation: indicatorBreath 4s ease-in-out infinite; }

.chip {
  border-radius: var(--radius-pill);
  padding: 10px 16px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.05);
  color: var(--text-body);
  transition: transform 160ms var(--ease-spring), border-color 160ms ease, box-shadow 160ms ease;
}
.chip.is-active {
  border-color: rgba(var(--accent-rgb), 0.6);
  background: rgba(var(--accent-rgb), 0.22);
  color: #031018;
  box-shadow: 0 18px 40px rgba(var(--accent-rgb), 0.25);
}
.chip-ghost { border-style: dashed; }
.chip.apply-btn {
  background: rgba(var(--accent-rgb), 0.15);
  color: #fff;
  font-weight: 600;
}

.route-fade-enter {
  opacity: 0;
  transform: translateY(18px) scale(0.985);
}
.route-fade-enter-active {
  animation: routeFade 520ms var(--ease-liquid) forwards;
}

.checkin-slider input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  margin: 0;
  height: 14px;
  border-radius: 999px;
  background:
    linear-gradient(90deg, rgba(var(--accent-rgb), 0.95), rgba(255,255,255,0.95)) 0 0 / var(--energy-fill, 0%) 100% no-repeat,
    linear-gradient(90deg, rgba(42,42,64,0.8), rgba(18,18,32,0.8));
  background-repeat: no-repeat;
  box-shadow:
    inset 0 2px 0 rgba(255,255,255,0.18),
    inset 0 10px 18px rgba(0,0,0,0.55);
  outline: none;
  position: relative;
  z-index: 1;
  transition: background-size 240ms var(--ease-spring), box-shadow 240ms ease;
  cursor: pointer;
}
.checkin-slider input[type="range"]:focus-visible {
  box-shadow:
    inset 0 2px 0 rgba(255,255,255,0.2),
    inset 0 12px 20px rgba(0,0,0,0.55),
    0 0 0 2px rgba(var(--accent-rgb), 0.4);
}
.checkin-slider input[type="range"]::-webkit-slider-thumb,
.checkin-slider input[type="range"]::-moz-range-thumb {
  width: 26px;
  height: 26px;
  border-radius: 50%;
  border: 2px solid rgba(255,255,255,0.6);
  background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.95), rgba(var(--accent-rgb), 0.75));
  box-shadow:
    0 30px 70px rgba(var(--accent-rgb), 0.35),
    0 0 18px rgba(var(--accent-rgb), 0.5);
  cursor: pointer;
}

.sleep-slider {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 8px;
  border-radius: 999px;
  background: rgba(255,255,255,0.2);
  margin: 18px 0;
}
.sleep-slider::-webkit-slider-thumb,
.sleep-slider::-moz-range-thumb {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: rgba(255,255,255,0.9);
  border: none;
  box-shadow: 0 20px 40px rgba(0,0,0,0.35);
}
.sleep-display {
  font-size: 20px;
  font-weight: 600;
  margin-top: 12px;
  color: #fff;
  text-align: center;
  width: 100%;
}

.mini-panel {
  position: absolute;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(5,6,14,0.9);
  box-shadow: 0 30px 90px rgba(0,0,0,0.5);
  padding: 18px;
  backdrop-filter: blur(18px);
  min-width: 220px;
  z-index: 70;
  backdrop-filter: blur(18px);
}
.mini-panel.focus { min-width: 260px; }
.focus-grid { display: grid; gap: 10px; grid-template-columns: repeat(2, minmax(0, 1fr)); }
.focus-option {
  border-radius: var(--radius-pill);
  padding: 8px 12px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.05);
  font-size: 13px;
  transition: border-color 160ms ease, background 160ms ease;
}
.focus-option.is-active {
  border-color: rgba(var(--accent-rgb), 0.6);
  background: rgba(var(--accent-rgb), 0.18);
  color: #fff;
}
.focus-trigger {
  border-radius: var(--radius-pill);
  padding: 12px 18px;
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.04);
  color: var(--text-body);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  width: min(320px, 100%);
  margin: 0 auto;
}
.focus-trigger.has-value { border-color: rgba(var(--accent-rgb), 0.5); color: #fff; }

.stress-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 130px;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  font-size: 0.75rem;
  transition: color 160ms ease, transform 160ms ease;
}
.stress-chip.is-active {
  box-shadow: 0 18px 40px rgba(var(--accent-rgb), 0.25);
  transform: translateY(-2px);
}


/* ===== Animations ===== */
@keyframes indicatorBreath {
  0% { box-shadow: 0 0 20px rgba(var(--teal-rgb), 0.2); opacity: 0.8; }
  50% { box-shadow: 0 0 34px rgba(var(--teal-rgb), 0.5); opacity: 1; }
  100% { box-shadow: 0 0 20px rgba(var(--teal-rgb), 0.2); opacity: 0.8; }
}

@keyframes calendarDotPulse {
  0% { transform: scale(0.85); box-shadow: 0 0 12px rgba(var(--dot-rgb), 0.35); }
  50% { transform: scale(1.05); box-shadow: 0 0 26px rgba(var(--dot-rgb), 0.65); }
  100% { transform: scale(0.85); box-shadow: 0 0 12px rgba(var(--dot-rgb), 0.35); }
}

@keyframes glassHighlightDrift {
  0% { transform: translate(-50%, 0) scaleX(1); opacity: 0.7; }
  100% { transform: translate(-50%, 6px) scaleX(1.06); opacity: 0.95; }
}

@keyframes daySelectPulse {
  0% { transform: scale(1); }
  40% { transform: scale(1.03); box-shadow: 0 0 32px rgba(var(--accent-rgb), 0.35); }
  100% { transform: scale(1); }
}

@keyframes todayBorderPulse {
  0% { border-color: rgba(var(--accent-rgb), 0.45); box-shadow: 0 35px 110px rgba(var(--accent-rgb), 0.25); }
  50% { border-color: rgba(var(--accent-rgb), 0.7); box-shadow: 0 45px 125px rgba(var(--accent-rgb), 0.35); }
  100% { border-color: rgba(var(--accent-rgb), 0.45); box-shadow: 0 35px 110px rgba(var(--accent-rgb), 0.25); }
}

@keyframes haloFlow {
  0% { transform: translate(-3%, -2%) scale(1); opacity: 0.6; }
  100% { transform: translate(3%, 2%) scale(1.05); opacity: 0.85; }
}

@keyframes liquidPanelIntro {
  0% { opacity: 0; transform: translateY(18px) scale(0.95); filter: blur(18px); }
  65% { filter: blur(0px); }
  100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0px); }
}

@keyframes checkinPanelEnter {
  0% { opacity: 0; transform: translateY(18px) scale(0.95); filter: blur(12px); }
  80% { filter: blur(0px); }
  100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0px); }
}

@keyframes routeFade {
  0% { opacity: 0; transform: translateY(18px) scale(0.985); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}
/* ===== Responsive ===== */
@media (max-width: 1024px) {
  .calendar-grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .home-shell { padding: 8vw 4vw 14vw; }
  .home-hero { grid-template-columns: 1fr; padding-bottom: clamp(120px, 18vw, 200px); }
}

@media (max-width: 700px) {
  .calendar-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .home-tabs { flex-direction: column; }
  .topbar-userchip { padding: 8px 14px; }
  .day-pane { padding: 24px; }
  .calendar-lens { padding: 24px; }
}

/* ===== Liquid Glass 26 overrides ===== */
:root {
  --accent-rgb: 110, 85, 255;
  --accent-blue-rgb: 56, 226, 196;
  --violet-rgb: 110, 85, 255;
  --teal-rgb: 56, 226, 196;
  --neutral-blue-rgb: 196, 210, 255;
  --base-rgb: 2, 4, 10;
  --glass-panel-radius: 24px;
  --glass-cell-radius: 20px;
  --glass-blur: 14px;
  --glass-border: rgba(255,255,255,0.06);
  --glass-inner-border: rgba(255,255,255,0.1);
  --glass-filter: url(#liquid-glass);
  --panel-noise: none;
  --text-strong: rgba(255,255,255,0.9);
  --text-dim: rgba(255,255,255,0.5);
  --shadow-liquid: 0 45px 120px rgba(0,0,0,0.68);
  --topbar-height: 110px;
}

@supports not (filter: url(#liquid-glass)) {
  :root { --glass-filter: none; }
}

html,
body {
  background: #02040A;
  color: var(--text-strong);
}

body.app-bg {
  min-height: 100vh;
  background: radial-gradient(120% 140% at 50% 0%, #0C1120 0%, #02040A 65%);
  color: var(--text-strong);
}

body.app-bg::before,
body.app-bg::after { content: none; }

.halo-layer { opacity: 0.35; }
.liquid-filter-defs {
  position: absolute;
  width: 0;
  height: 0;
  pointer-events: none;
  opacity: 0;
}

.agendo-topbar {
  background: rgba(var(--base-rgb), 0.78);
  border-bottom: 1px solid var(--glass-border);
  backdrop-filter: blur(var(--glass-blur));
  box-shadow: 0 18px 40px rgba(0,0,0,0.5);
  padding: 12px 0;
  margin-top: 8px;
  position: sticky;
  top: 0;
  z-index: 30;
}

.agendo-topbar::after {
  content: '';
  position: absolute;
  inset: 0;
  border-top: 1px solid rgba(255,255,255,0.04);
  opacity: 0.4;
  pointer-events: none;
}

.agendo-topbar__inner {
  width: min(1200px, 100%);
  margin: 0 auto;
  padding: 0 28px;
  min-height: 72px;
  display: flex;
  gap: 20px;
  align-items: center;
  justify-content: space-between;
}

.topbar-brand {
  font-size: 13px;
  letter-spacing: 0.35em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.8);
}

.topbar-actions {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex: 1;
}

.topbar-btn,
.topbar-chip,
.profile-trigger {
  border-radius: 999px;
  padding: 10px 22px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(var(--base-rgb), 0.7);
  color: rgba(255,255,255,0.78);
  font-size: 11px;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  transition: color 180ms ease, border-color 180ms ease;
}

.topbar-btn[data-active="true"] {
  border-color: rgba(var(--violet-rgb), 0.45);
  color: rgba(255,255,255,0.96);
}

.topbar-btn:hover,
.topbar-chip:hover,
.profile-trigger:hover {
  border-color: rgba(255,255,255,0.18);
  color: rgba(255,255,255,0.95);
}

.profile-menu { position: relative; }

.profile-panel {
  position: absolute;
  top: calc(100% + 14px);
  right: 0;
  min-width: 240px;
  border-radius: 26px;
  border: 1px solid var(--glass-border);
  background: rgba(var(--base-rgb), 0.92);
  box-shadow: 0 35px 110px rgba(0,0,0,0.65);
  backdrop-filter: blur(var(--glass-blur)) saturate(160%);
  padding: 18px;
  overflow: hidden;
}

.profile-panel::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    radial-gradient(140% 160% at 35% -10%, rgba(var(--violet-rgb),0.16), transparent 65%),
    radial-gradient(160% 180% at 90% 160%, rgba(var(--teal-rgb),0.12), transparent 70%);
  filter: var(--glass-filter);
  opacity: 0.85;
  pointer-events: none;
}

.profile-panel::after {
  content: '';
  position: absolute;
  inset: 3px;
  border-radius: inherit;
  border: 1px solid rgba(255,255,255,0.12);
  opacity: 0.6;
  pointer-events: none;
}

.profile-panel > * { position: relative; z-index: 1; }

.profile-item {
  border-radius: 18px;
  padding: 12px 14px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.02);
  color: rgba(255,255,255,0.86);
  transition: border-color 180ms ease, background 180ms ease, color 180ms ease;
  display: flex;
  align-items: center;
  gap: 12px;
}
.profile-item + .profile-item { margin-top: 10px; }

.profile-item:hover {
  border-color: rgba(var(--teal-rgb),0.5);
  background: rgba(var(--teal-rgb),0.12);
  color: rgba(255,255,255,0.98);
  box-shadow: 0 18px 40px rgba(var(--teal-rgb),0.18);
}

.profile-item.danger {
  color: rgba(255,180,200,0.92);
  border-color: rgba(255,180,200,0.3);
  background: rgba(255,180,200,0.08);
  box-shadow: none;
}
.profile-item.danger:hover {
  border-color: rgba(255,95,95,0.6);
  background: rgba(255,95,95,0.15);
  color: rgba(255,210,210,0.98);
  box-shadow: 0 18px 45px rgba(255,95,95,0.25);
}

.home-shell {
  min-height: 100svh;
  height: 100svh;
  padding: clamp(24px, 4vw, 64px);
  display: flex;
  flex-direction: column;
  gap: 0;
  align-items: center;
  justify-content: center;
  position: relative;
  isolation: isolate;
  overflow: hidden;
  background: #000000;
  font-family: "Inter", "Helvetica Neue", "Helvetica", Arial, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

.home-shell::before,
.home-shell::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.home-shell::before {
  inset: -30% -20%;
  background:
    radial-gradient(70% 28% at 50% 55%, rgba(34, 0, 38, 0.9) 0%, rgba(34, 0, 38, 0.55) 52%, rgba(34, 0, 38, 0) 76%),
    radial-gradient(90% 34% at 50% 56%, rgba(34, 0, 38, 0.25) 0%, rgba(34, 0, 38, 0) 72%);
  filter: blur(95px);
  opacity: 1;
}

.home-shell::after {
  background: radial-gradient(140% 120% at 50% 55%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.65) 68%, rgba(0,0,0,0.9) 100%);
  opacity: 0.9;
}

.home-layout {
  position: relative;
  z-index: 2;
  width: 67vw;
  min-width: 320px;
  padding: clamp(16px, 2vw, 28px);
  margin: 0 auto;
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto minmax(0, 1fr);
  grid-template-rows: auto 1fr auto;
  grid-template-areas:
    "greeting . ."
    ". center ."
    ". . date";
  column-gap: clamp(18px, 4vw, 56px);
  row-gap: clamp(18px, 3.5vh, 36px);
  align-items: center;
  align-content: center;
  height: 67vh;
}

.home-greeting-block {
  grid-area: greeting;
  align-self: start;
  justify-self: start;
}

.home-greeting-title {
  margin: 0;
  display: block;
  font-size: clamp(44px, 5.6vw, 76px);
  line-height: 1.02;
  letter-spacing: -0.02em;
  color: #ffffff;
  text-shadow: 0 30px 80px rgba(0,0,0,0.5);
  white-space: normal;
  font-family: "Inter", "Helvetica Neue", "Helvetica", Arial, system-ui, sans-serif;
}

.home-greeting-line { display: block; }
.home-greeting-line + .home-greeting-line { margin-top: 2px; text-transform: uppercase; }
.home-greeting-line--primary { white-space: nowrap; }


.home-center {
  grid-area: center;
  justify-self: center;
  align-self: center;
}

.home-action-button {
  position: relative;
  display: grid;
  place-items: center;
  width: clamp(200px, 24vw, 280px);
  height: 60px;
  border-radius: 30px;
  color: rgba(255,255,255,0.92);
  font-size: 25px;
  font-weight: 600;
  letter-spacing: -0.01em;
  line-height: 1em;
  font-family: "Inter", "Helvetica Neue", "Helvetica", Arial, system-ui, sans-serif;
  overflow: hidden;
  cursor: pointer;
  outline: 0;
  --agendo-glass-radius: 30px;
}


.home-action-button span {
  position: relative;
  z-index: 2;
  text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

/* Apply glass to overlays / sheets */
:where(
  .day-form-panel,
  .day-checkin-modal,
  .completion-sheet,
  .confirm-sheet,
  .plan-exit-modal,
  .plan-existing-blocks-modal,
  .sheet-panel
) {
  --agendo-glass-radius: var(--radius-xl);
  background: var(--agendo-glass-bg);
  border: 1px solid var(--agendo-glass-border);
  box-shadow: var(--agendo-glass-shadow);
  backdrop-filter: blur(var(--agendo-glass-blur)) saturate(var(--agendo-glass-saturation));
  -webkit-backdrop-filter: blur(var(--agendo-glass-blur)) saturate(var(--agendo-glass-saturation));
}

@supports ((backdrop-filter: url(#agendo-glass-filter)) or (-webkit-backdrop-filter: url(#agendo-glass-filter))) {
  :where(
    .day-form-panel,
    .day-checkin-modal,
    .completion-sheet,
    .confirm-sheet,
    .plan-exit-modal,
    .plan-existing-blocks-modal,
    .sheet-panel
  ) {
    backdrop-filter:
      url(#agendo-glass-filter)
      blur(var(--agendo-glass-blur))
      saturate(var(--agendo-glass-saturation));
    -webkit-backdrop-filter:
      url(#agendo-glass-filter)
      blur(var(--agendo-glass-blur))
      saturate(var(--agendo-glass-saturation));
  }
}

.home-date-block {
  grid-area: date;
  justify-self: end;
  align-self: end;
  text-align: right;
  max-width: 320px;
}

.home-date {
  margin: 0;
  font-size: 40px;
  color: rgba(227, 227, 227, 1);
  letter-spacing: -0.05em;
  line-height: 1.3em;
  font-family: "Inter", "Helvetica Neue", "Helvetica", Arial, system-ui, sans-serif;
}

.home-date-sub {
  margin: 8px 0 0;
  font-size: 30px;
  color: rgba(184, 184, 184, 1);
  line-height: 1.3em;
  font-family: "Inter", "Helvetica Neue", "Helvetica", Arial, system-ui, sans-serif;
}

@media (max-width: 900px) {
  .home-shell { height: auto; min-height: 100svh; }
  .home-layout {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    grid-template-areas:
      "greeting"
      "center"
      "date";
    gap: 28px;
    min-height: auto;
    height: auto;
  }
  .home-greeting-block {
    justify-self: start;
    text-align: left;
  }
  .home-center {
    justify-self: center;
  }
  .home-date-block {
    justify-self: center;
    align-self: center;
    text-align: center;
    max-width: 100%;
  }
}

@media (max-width: 600px) {
  .home-shell { padding: clamp(24px, 8vw, 40px); }
  .home-greeting-title { font-size: clamp(48px, 14vw, 72px); }
  .home-action-button { width: clamp(240px, 80vw, 320px); }
}

:is(.calendar-lens, .day-pane, .day-form-panel, .day-checkin-modal, .checkin-panel) {
  position: relative;
  border-radius: var(--glass-panel-radius);
  background: rgba(var(--base-rgb), 0.78);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-liquid);
  backdrop-filter: blur(var(--glass-blur));
  overflow: hidden;
}

:is(.calendar-lens, .day-pane, .day-form-panel, .day-checkin-modal, .checkin-panel)::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(140% 150% at 50% 0%, rgba(255,255,255,0.03), transparent 60%);
  filter: var(--glass-filter);
  opacity: 0.95;
  pointer-events: none;
  z-index: 0;
}

:is(.calendar-lens)::before { opacity: 0.7; }

:is(.calendar-lens, .day-pane, .day-form-panel, .day-checkin-modal, .checkin-panel)::after {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: calc(var(--glass-panel-radius) - 1px);
  border: 1px solid rgba(255,255,255,0.08);
  opacity: 0.5;
  pointer-events: none;
  mix-blend-mode: screen;
  z-index: 1;
}

:is(.calendar-lens, .day-pane, .day-form-panel, .day-checkin-modal, .checkin-panel) > * {
  position: relative;
  z-index: 2;
}

.home-hero {
  width: min(960px, 100%);
  text-align: center;
  padding: clamp(24px, 6vw, 72px) clamp(12px, 4vw, 32px);
  margin: 0 auto;
  border: none;
  background: transparent;
  box-shadow: none;
}

.home-hero::before,
.home-hero::after,
.home-hero__halo {
  display: none !important;
}

.home-tab {
  border-color: rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.7);
  background: rgba(var(--base-rgb), 0.65);
}

.home-tab[data-variant="primary"] {
  border-color: rgba(var(--teal-rgb), 0.5);
  color: rgba(255,255,255,0.95);
}

.home-shell > .checkin-entry .checkin-summary {
  background: rgba(var(--base-rgb), 0.65);
  border-color: rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.85);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
}

.home-shell > .checkin-entry .checkin-summary.checkin-summary--pulse {
  border-color: rgba(var(--teal-rgb), 0.6);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.08),
    0 20px 55px rgba(var(--teal-rgb), 0.3);
  animation: indicatorBreath 4s ease-in-out infinite;
  color: rgba(255,255,255,0.95);
}

/* Make the collapsed "Check-in pendiente" action more visible */
.home-shell > .checkin-entry .checkin-summary-action {
  color: rgba(var(--accent-rgb), 1) !important;
  font-weight: 700;
  text-shadow: 0 0 18px rgba(var(--accent-rgb), 0.55);
  transition: text-shadow 180ms ease, transform 160ms var(--ease-spring);
}
.home-shell > .checkin-entry .checkin-summary:hover .checkin-summary-action {
  transform: translateY(-2px);
  text-shadow: 0 0 26px rgba(var(--accent-rgb), 0.72);
}

/* Ensure the check icon has strong contrast */
.home-shell > .checkin-entry .checkin-summary-check {
  background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.95), rgba(255,255,255,0.92));
  color: #031018;
  box-shadow: 0 18px 46px rgba(var(--accent-rgb), 0.28);
}

.calendar-lens {
  padding: clamp(28px, 5vw, 60px);
}

.calendar-weekdays { color: rgba(255,255,255,0.45); letter-spacing: 0.2em; }

.calendar-nav-btn {
  width: 56px;
  height: 40px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(var(--base-rgb),0.72);
  color: rgba(255,255,255,0.65);
}

.calendar-nav-btn::after { content: none; }

.calendar-chevron { width: 18px; height: 18px; }

.calendar-grid { gap: 14px; }

.calendar-day {
  border-radius: var(--glass-cell-radius);
  border: 1px solid rgba(255,255,255,0.05);
  background: rgba(var(--base-rgb), 0.6);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.01), 0 20px 40px rgba(0,0,0,0.55);
  position: relative;
  overflow: hidden;
}

.calendar-day::before {
  content: '';
  position: absolute;
  inset: 6px;
  border-radius: calc(var(--glass-cell-radius) - 6px);
  border: 1px solid rgba(255,255,255,0.04);
  opacity: 0.6;
  pointer-events: none;
}

.calendar-day::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: radial-gradient(130% 150% at 50% 110%, rgba(0,0,0,0.55), transparent 70%);
  opacity: 0;
  filter: none;
  pointer-events: none;
  transition: opacity 220ms ease;
}

.calendar-day.is-selected::after,
.calendar-day--today::after {
  opacity: 0.9;
  filter: var(--glass-filter);
}

.calendar-day.is-selected {
  border-color: rgba(var(--violet-rgb), 0.55);
  box-shadow: inset 0 0 24px rgba(var(--violet-rgb), 0.15), 0 30px 70px rgba(0,0,0,0.6);
}

.calendar-day--checkin {
  border-color: rgba(var(--violet-rgb), 0.35);
  box-shadow: inset 0 0 18px rgba(var(--violet-rgb), 0.12), 0 24px 60px rgba(0,0,0,0.55);
}

.calendar-day--today {
  border-color: rgba(var(--teal-rgb), 0.6);
  box-shadow: inset 0 0 22px rgba(var(--teal-rgb), 0.16), 0 32px 70px rgba(0,0,0,0.6);
}

.calendar-day--future { opacity: 0.7; }

.calendar-day--out { opacity: 0.35; }

.calendar-day__date { color: rgba(255,255,255,0.9); }

.calendar-day__dots {
  display: flex;
  justify-content: center;
  align-items: flex-end;
  gap: 10px;
  margin-top: auto;
  padding-bottom: 6px;
  width: 100%;
}
.calendar-day__dots[data-muted="true"] {
  opacity: 0.28;
  filter: saturate(0.5);
}

.calendar-dot {
  --dot-rgb: var(--indicator-checkin-rgb);
  --dot-size: 12px;
  width: var(--dot-size);
  height: var(--dot-size);
  border-radius: 999px;
  background: rgba(var(--dot-rgb), 0.82);
  box-shadow: 0 0 8px rgba(var(--dot-rgb), 0.25);
  opacity: 0.38;
  transform: scale(0.76);
  transition: opacity 220ms ease, transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease;
  position: relative;
}
.calendar-dot::after {
  content: '';
  position: absolute;
  inset: -6px;
  border-radius: inherit;
  background: rgba(var(--dot-rgb), 0.25);
  opacity: 0.14;
  transition: opacity 200ms ease, filter 200ms ease;
}
.calendar-dot[data-state='off'] {
  opacity: 0.16;
  box-shadow: 0 0 2px rgba(var(--indicator-off-rgb), 0.35);
  transform: scale(0.6);
}
.calendar-dot[data-state='subtle'] {
  opacity: 0.48;
  box-shadow: 0 0 10px rgba(var(--dot-rgb), 0.3);
  transform: scale(0.7);
}
.calendar-dot[data-state='medium'] {
  opacity: 0.74;
  box-shadow: 0 0 14px rgba(var(--dot-rgb), 0.42);
  transform: scale(0.84);
}
.calendar-dot[data-state='on'] {
  opacity: 0.95;
  box-shadow: 0 0 18px rgba(var(--dot-rgb), 0.5), 0 0 28px rgba(var(--dot-rgb), 0.35);
  transform: scale(0.94);
}
.calendar-dot[data-state='on']::after { opacity: 0.55; filter: blur(3px); }
.calendar-dot[data-remind='true'] { animation: calendarDotPulse 2.4s ease-in-out infinite; }
.calendar-dot[data-variant='ring'] {
  background: transparent;
  border: 2px solid rgba(var(--dot-rgb), 0.6);
  box-shadow: 0 0 6px rgba(var(--dot-rgb), 0.25);
  opacity: 0.65;
}
.calendar-dot[data-variant='ring'][data-state='off'] {
  border-color: rgba(var(--indicator-off-rgb), 0.65);
  opacity: 0.32;
  box-shadow: none;
}
.calendar-dot--checkin { --dot-rgb: var(--indicator-checkin-rgb); }
.calendar-dot--activity { --dot-rgb: var(--indicator-tasks-rgb); }

.btn-cal-ghost,
.btn-cal-primary,
.chip,
.checkin-pill,
.mood-pill {
  border-color: rgba(255,255,255,0.08);
  background: rgba(var(--base-rgb), 0.7);
  color: rgba(255,255,255,0.8);
}

.btn-cal-primary,
.chip.is-active,
.checkin-pill[data-active="true"],
.mood-pill.is-active {
  border-color: rgba(var(--teal-rgb), 0.55);
  color: rgba(255,255,255,0.95);
}

.checkin-status .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(var(--teal-rgb), 0.85);
}

.checkin-save {
  border: 1px solid rgba(var(--teal-rgb), 0.6);
  background: linear-gradient(120deg, rgba(var(--teal-rgb),0.85), rgba(var(--violet-rgb),0.65));
  color: #020305;
  box-shadow: 0 30px 70px rgba(var(--teal-rgb), 0.35);
}

@keyframes calendarNavPulse {
  0% { transform: translateZ(0); }
  50% { transform: translateZ(0) scaleX(1.01); }
  100% { transform: translateZ(0); }
}

@keyframes calendarDotFlash {
  0% { transform: scale(0.85); opacity: 0.6; }
  50% { transform: scale(1.05); opacity: 1; }
  100% { transform: scale(0.9); opacity: 0.6; }
}

/* Disable page scrolling for the homepage */
body.no-scroll-home {
  overflow: hidden !important;
  height: 100vh !important;
  touch-action: none;
}

body.home-no-topbar .agendo-topbar {
  display: none !important;
}

.glass-test-overlay {
  position: fixed;
  inset: 0;
  z-index: 2000;
}

.glass-test-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(8px);
}

.glass-test-panel {
  position: absolute;
  width: clamp(260px, 28vw, 360px);
  padding: 18px 20px;
  border-radius: 24px;
  cursor: grab;
  user-select: none;
  --agendo-glass-radius: 24px;
}

.glass-test-panel[data-dragging] {
  cursor: grabbing;
}

.glass-test-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  font-weight: 600;
  color: rgba(255,255,255,0.9);
}

.glass-test-close {
  border-radius: 999px;
  padding: 6px 12px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.85);
}

.glass-test-body {
  margin: 10px 0 0;
  font-size: 14px;
  color: rgba(255,255,255,0.7);
}

